<!doctype html>
<html lang="en-us">

<head>
    <meta charset="UTF-8">
    <title>Word Guess Game</title>
    <link rel="stylesheet" type="text/css" href="../Word_Guess_Name/assets/css/reset.css">
</head>

<body>

<p>The word is:</p>
<p id="hiddenWord"></p>

<p>Guess a letter:</p>
<p id="guessLetter"></p>

<p>Guessed Letters:</p>
<p id="guessedLetters"></p>

<p>Remaining Guesses:</p>
<p id="remainingGuesses"></p>


<script>

// VARIABLES    
var wordsList = ["Brazil","Canada","Mexico","Cuba","France","Italy"];
var remainGuessCount = 10;
var chosenWord = "";
var hiddenWord = "";
var guessedLetters = ""; 
var gLetter = "";

// FUNCTIONS
// Function do randomly select a word from the provided list and update global data
function wordSelector(){
    var position = Math.floor((Math.random() * 6) + 1);
    chosenWord = wordsList[position];
    for(var i=0;i<chosenWord.length;i++){
        hiddenWord += "_";
    }
}

//Update data to the screen
function updateData(){
    document.getElementById("hiddenWord").innerHTML = hiddenWord;
    document.getElementById("guessLetter").innerHTML = gLetter;
    document.getElementById("guessedLetters").innerHTML = guessedLetters;
    document.getElementById("remainingGuesses").innerHTML = remainGuessCount;
}

function replaceChar(index,newChar) {
    var str = hiddenWord;
    if(index > str.length-1) {
        return str;
    }
    return str.substr(0,index) + newChar + str.substr(index+1);
}

//Verify if guessed letter is part of the chosen word
function guessLetter (letter) {
    var guessFlag = false;
    gLetter = letter;
    console.log("gLetter: "+letter);
    for(var i=0;i<chosenWord.length;i++){
        if (letter == chosenWord.charAt(i)) {
            console.log("chosenWordLetter: "+chosenWord.charAt(i));
            guessFlag = true;
            console.log("hiddenWord: "+hiddenWord);
            hiddenWord = replaceChar(i,letter);
            console.log("hiddenWord: "+hiddenWord);
        }
    }
    if (!guessFlag) {
        guessedLetters += letter;
        remainGuessCount--;
    }
    updateData();
}

wordSelector();
updateData();

document.onkeyup = function(event) {
    
    var userInput = event.key.toLowerCase();
    guessLetter(userInput);
// // Only run this code if "t" or "f" were pressed.
// if (userInput === "t" || userInput === "f") {

//   // If they guess the correct answer, increase and update score, alert them they got it right.
//   if (userInput === questions[questionIndex].a) {
//     alert("Correct!");
//     score++;
//     updateScore();
//   }
//   // If wrong, alert them they are wrong.
//   else {
//     alert("Wrong!");
//   }

//   // Increment the questionIndex variable and call the renderQuestion function.
//   questionIndex++;
//   renderQuestion();

// }

};




</script>

</body>

</html>